<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>High Availability - Skolyn Documentation</title>
<link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Google+Sans+Text:wght@400;500&display=swap" rel="stylesheet">
<style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Google Sans Text','Google Sans',Roboto,'Helvetica Neue',Arial,sans-serif;max-width:900px;margin:0 auto;padding:48px 40px;color:#1d1d1f;line-height:1.8;font-size:15px}.doc-id-bar{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:#f8f9fa;border:1px solid #e8eaed;border-radius:8px;margin-bottom:24px;font-size:13px;color:#5f6368}.doc-id-bar .doc-id{font-family:'Google Sans',sans-serif;font-weight:700;color:#1a73e8;font-size:14px;letter-spacing:.5px}.doc-id-bar .doc-class{padding:4px 12px;background:#e8f0fe;color:#1a73e8;border-radius:100px;font-weight:500;font-size:12px}.doc-header{border-bottom:3px solid #5c6bc0;padding-bottom:28px;margin-bottom:40px}.doc-header h1{font-family:'Google Sans',sans-serif;font-size:32px;font-weight:700;margin-bottom:8px}.doc-header .subtitle{font-size:16px;color:#5f6368;margin-bottom:16px}.doc-header .meta-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;font-size:13px;color:#5f6368}.doc-header .meta-item{display:flex;align-items:center;gap:6px}.doc-header .meta-item strong{color:#1d1d1f}h2{font-family:'Google Sans',sans-serif;font-size:22px;color:#5c6bc0;margin:40px 0 16px;padding-bottom:8px;border-bottom:1px solid #e8eaed}h3{font-family:'Google Sans',sans-serif;font-size:17px;color:#202124;margin:28px 0 12px}p{margin-bottom:14px}ul,ol{margin:0 0 18px 24px}li{margin-bottom:8px}table{width:100%;border-collapse:collapse;margin:16px 0 24px;font-size:13px}th,td{padding:10px 14px;text-align:left;border:1px solid #dadce0}th{background:#e8eaf6;font-weight:600;color:#283593}td{color:#3c4043}tr:nth-child(even) td{background:#fafafa}code{background:#f1f3f4;padding:2px 8px;border-radius:4px;font-size:13px}.signature-section{margin-top:64px;page-break-inside:avoid}.signature-section .section-title{font-family:'Google Sans',sans-serif;font-size:18px;font-weight:700;color:#1d1d1f;margin-bottom:24px;padding-bottom:12px;border-bottom:2px solid #1d1d1f}.signature-grid{display:grid;grid-template-columns:1fr 1fr;gap:48px}.signature-block{border:1px solid #dadce0;border-radius:12px;padding:32px;background:#fafafa}.signature-block .role{font-family:'Google Sans',sans-serif;font-size:16px;font-weight:700;margin-bottom:4px}.signature-block .name{font-size:14px;color:#5f6368;margin-bottom:24px}.signature-line{border-bottom:1px solid #1d1d1f;height:48px;margin-bottom:8px}.signature-label{font-size:12px;color:#80868b;margin-bottom:16px}.stamp-area{border:2px dashed #dadce0;border-radius:8px;height:100px;display:flex;align-items:center;justify-content:center;color:#80868b;font-size:12px;margin-top:16px}.doc-footer{margin-top:48px;padding-top:24px;border-top:2px solid #e8eaed;font-size:12px;color:#5f6368;text-align:center}.doc-footer p{margin-bottom:4px}@media print{body{max-width:100%;padding:20px;font-size:12px}.signature-section{page-break-before:always}}</style>
</head>
<body>

<div class="doc-id-bar"><span class="doc-id">SKL-OPS-003</span><span>Skolyn Platform Documentation</span><span class="doc-class">CONFIDENTIAL</span></div>

<div class="doc-header">
  <h1>High Availability Architecture</h1>
  <div class="subtitle">Fault-Tolerant Design: Active-Active Clustering, Load Balancing, Failover Strategies, and Zero-Downtime Deployments</div>
  <div class="meta-grid">
    <div class="meta-item"><strong>Version:</strong> 3.0</div>
    <div class="meta-item"><strong>Last Updated:</strong> February 2026</div>
    <div class="meta-item"><strong>Classification:</strong> Confidential</div>
    <div class="meta-item"><strong>Owner:</strong> Platform Engineering</div>
  </div>
</div>

<h2>1. Overview</h2>
<p>High availability (HA) is a non-negotiable requirement for medical imaging AI systems. Skolyn operates in clinical environments where unplanned downtime can delay diagnosis, disrupt emergency workflows, and potentially impact patient outcomes. The platform is architected for 99.95% availability (the "four nines" target translates to maximum 4.38 hours of annual downtime), achieved through active-active clustering, automatic failover, graceful degradation, and zero-downtime deployment strategies. The HA architecture eliminates all single points of failure across the compute layer (multiple inference servers), storage layer (replicated databases and distributed object storage), networking layer (redundant load balancers and network paths), and integration layer (connection pooling with automatic reconnection). This document describes the complete HA design, deployment topology options, failover behaviors, and operational procedures for maintaining continuous service availability.</p>

<h2>2. Deployment Topologies</h2>
<h3>2.1 Active-Active Cluster</h3>
<p>The recommended production deployment uses an active-active cluster where two or more Skolyn nodes simultaneously process studies. Each node maintains an identical software stack and model repository, with study distribution managed by a Layer 7 load balancer (HAProxy or NGINX). The load balancer distributes DICOM C-STORE associations and REST API traffic using weighted round-robin with health check-based exclusion. Studies in progress when a node fails are automatically requeued to surviving nodes within 30 seconds, ensuring no study is lost. Shared state (study tracking, result storage, configuration) is maintained in a PostgreSQL cluster with synchronous replication, ensuring that any node can serve any request without data inconsistency.</p>

<h3>2.2 Active-Passive Configuration</h3>
<p>For smaller deployments with budget constraints, an active-passive (standby) configuration provides HA with a single hot-standby node. The standby node maintains synchronized state via streaming replication and remains ready to assume the primary role within 60 seconds of a detected failure. Failover is triggered automatically by the monitoring system when the primary node fails health checks for three consecutive intervals (45 seconds). The standby node assumes the primary's virtual IP address via keepalived/VRRP, and connected PACS systems continue sending studies to the same DICOM AE title without reconfiguration.</p>

<h2>3. Database High Availability</h2>
<p>PostgreSQL HA uses Patroni for cluster management with etcd as the distributed consensus store. The database cluster consists of a primary and two synchronous replicas. Patroni handles automatic leader election, replica promotion, and split-brain prevention using the etcd distributed lock. Write operations go exclusively to the primary, while read operations (study queries, result retrieval) are distributed across read replicas via PgBouncer connection pooling. In the event of primary failure, Patroni promotes the most up-to-date replica within 10-15 seconds, with the application connection pool automatically redirecting write connections to the new primary.</p>

<h2>4. Storage Resilience</h2>
<p>DICOM study storage uses MinIO S3-compatible object storage deployed in erasure-coded mode across multiple drives and nodes. The recommended configuration uses EC(8+4) encoding, which can tolerate loss of up to 4 drives or 2 complete storage nodes without data loss or service degradation. Object storage handles the bulk of Skolyn's data volume (DICOM images, analysis results, audit logs) and provides versioning for all stored objects. For on-premises deployments, the storage layer sits atop hardware RAID with hot spares, providing an additional layer of redundancy below the application-level erasure coding.</p>

<h2>5. Zero-Downtime Deployments</h2>
<p>Platform updates are performed using rolling deployment strategy: nodes are removed from the load balancer one at a time, updated, verified via automated health checks, and returned to the pool before proceeding to the next node. This ensures that at least N-1 nodes remain active throughout the update process. Database schema migrations use the expand-contract pattern: backward-compatible schema changes are deployed first (expand), the application is updated to use the new schema, then deprecated schema elements are removed (contract) in a subsequent maintenance window. Model updates follow the same rolling pattern, with canary deployments routing 5% of studies through the updated model for validation before full rollout.</p>

<h2>6. Graceful Degradation</h2>
<p>When components fail, the system degrades gracefully rather than experiencing total failure. The degradation hierarchy ensures the most critical functions remain available: Level 1 (full service) — all modalities, real-time processing, full integration. Level 2 (reduced throughput) — processing continues at reduced rate with partial GPU fleet; studies queued rather than rejected. Level 3 (essential only) — STAT-priority studies processed immediately, routine studies queued for batch processing when capacity is restored. Level 4 (pass-through) — AI processing suspended, DICOM routing continues as pass-through, ensuring the imaging chain is not disrupted even during complete inference failure.</p>

<h2>7. Document Revision History</h2>
<table>
  <tr><th>Version</th><th>Date</th><th>Author</th><th>Changes</th></tr>
  <tr><td>1.0</td><td>2024-06-15</td><td>Platform Engineering</td><td>Initial release</td></tr>
  <tr><td>2.0</td><td>2025-06-01</td><td>Platform Engineering</td><td>Added zero-downtime, MinIO</td></tr>
  <tr><td>3.0</td><td>2026-02-10</td><td>Platform Engineering</td><td>Updated topologies, degradation</td></tr>
</table>

<div class="signature-section">
  <div class="section-title">Authorization & Approval</div>
  <p style="font-size:13px;color:#5f6368;margin-bottom:24px;">This document has been reviewed and approved by the undersigned officers of Skolyn.</p>
  <div class="signature-grid">
    <div class="signature-block"><div class="role">Chief Technology Officer (CTO)</div><div class="name">Skolyn Technology Division</div><div class="signature-line"></div><div class="signature-label">Signature</div><div style="display:flex;justify-content:space-between;margin-bottom:16px"><div><span class="signature-label">Printed Name:</span> ___________________________</div></div><div><span class="signature-label">Date:</span> ______ / ______ / ____________</div><div class="stamp-area">Official Stamp / Seal</div></div>
    <div class="signature-block"><div class="role">Chief Executive Officer (CEO)</div><div class="name">Skolyn Executive Office</div><div class="signature-line"></div><div class="signature-label">Signature</div><div style="display:flex;justify-content:space-between;margin-bottom:16px"><div><span class="signature-label">Printed Name:</span> ___________________________</div></div><div><span class="signature-label">Date:</span> ______ / ______ / ____________</div><div class="stamp-area">Official Stamp / Seal</div></div>
  </div>
</div>

<div class="doc-footer"><p><strong>Skolyn</strong> — Redefining Medical Imaging Through Explainable AI</p><p>Document ID: SKL-OPS-003 | Version 3.0 | Classification: Confidential</p><p>&copy; 2026 Skolyn. All rights reserved.</p></div>

</body>
</html>
